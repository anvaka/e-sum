{"version":3,"sources":["webpack:///./src/bus.js","webpack:///./src/lib/encodeColor.js","webpack:///./src/lib/scene.js","webpack:///./src/lib/appState.js","webpack:///src/components/FormulaEditor.vue","webpack:///./src/components/FormulaEditor.vue?3664","webpack:///./src/components/FormulaEditor.vue","webpack:///src/components/ColorPicker.vue","webpack:///./src/components/ColorPicker.vue?4d94","webpack:///./src/components/ColorPicker.vue","webpack:///src/components/About.vue","webpack:///./src/components/About.vue?6276","webpack:///./src/components/About.vue","webpack:///./src/components/Icon.vue?66f7","webpack:///./src/components/Icon.vue","webpack:///src/components/Icon.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0f31","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/sumCalculator.js","webpack:///./src/lib/isSmallScreen.js","webpack:///./src/decimal-arithmetics.js","webpack:///./src/js-arithmetics.js","webpack:///./src/lib/config.js","webpack:///./src/lib/generate-function.js"],"names":["eventify","require","module","exports","encodeColor","r","g","b","a","wgl","bus","lastSumCalculator","lastFrame","touched","lines","lineA","lineR","lineG","lineB","sceneA","sceneR","sceneG","sceneB","canvas","document","getElementById","webGLScene","webGLEnabled","isWebGLEnabled","addEventListener","markTouched","gl","scene","getGL","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","setClearColor","setPixelRatio","window","redrawCurrentPoints","setSumCalculator","sumCalculator","resetLines","createSumCalculator","restartCalculator","reset","dispose","removeEventListener","cancelAnimationFrame","Math","round","getClearColor","setLineColor","color","renderFrame","getLineColor","removeChild","options","getOptions","LineStripCollection","min","bufferSize","allowColors","is3D","add","x","y","setPolyLine","appendChild","scheduleNextFrame","isDone","requestAnimationFrame","nextFrame","compute","bboxChanged","boundingBox","getBoundingBox","dx","maxX","minX","dy","maxY","minY","setViewBox","left","top","right","bottom","updateBoundingBox","fire","getCurrentStep","getTotalSteps","useDecimal","qs","queryState","code","totalSteps","spi","useSearch","createScene","parse","parseDecimal","Decimal","shouldIgnoreCodeChange","PI","acos","E","exp","persistedState","get","generatorOptions","next","stepsPerIteration","error","isImmediate","setCode","newCode","immediate","appState","newNext","console","log","compiledCode","creator","Function","e","message","location","start","compileNextFunction","set","newSumCalculator","ignoreNextEditorChange","getFillColor","setFillColor","setTotalSteps","newValue","doNotRestart","getNumber","getBufferSize","setBufferSize","getStepsPerIteration","setStepsPerIteration","settingsPanel","collapsed","str","defaultValue","parsed","Number","parseFloat","isNaN","FormulaEditor","props","computed","codeHighlight","this","model","pattern","className","reduce","evaluateRule","methods","syncScroll","_$refs","$refs","editor","syntax","scrollLeft","handleKeyDown","_this","direction","keyCode","preventDefault","_$refs$editor","value","selectionStart","result","from","queryNumberAndCursor","prefix","substring","suffix","to","number","$nextTick","elem","caretPos","createTextRange","range","move","select","focus","setSelectionRange","setCaretPosition","watch","model.code","_this2","pendingSetCode","clearTimeout","setTimeout","rule","replace","match","string","at","length","isDigitOrDot","ch","components_FormulaEditor","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","domProps","innerHTML","_s","directives","name","rawName","expression","attrs","type","on","!keydown","$event","keyup","input","target","composing","$set","_e","staticRenderFns","src_components_FormulaEditor","__webpack_require__","normalizeComponent","ssrContext","ColorPicker","components","chrome-color-picker","vue_color_min","data","opened","showPicker","hidePicker","pickerOverlay","getPickerStyle","rect","$el","getBoundingClientRect","position","onChanged","$emit","rgba","components_ColorPicker","readonly","click","style","src_components_ColorPicker","ColorPicker_normalizeComponent","About","mounted","closeHandler","close","beforeDestroy","components_About","href","formula","_m","src_components_About","About_normalizeComponent","components_Icon","title","show","version","xmlns","xmlns:xlink","width","height","viewBox","fill","d","src_components_Icon","Icon_normalizeComponent","isSmallScreen","generateFunction","App","HelpIcon","VueMathjax","vue_mathjax","onProgress","off","aboutVisible","lineColor","fillColor","stepsPerIterationHelp","totalStepsHelp","bufferSizeHelp","current","outOf","stepsPerIterationDelta","exponentialStep","totalStepsDelta","bufferSizeDelta","draw","redraw","toggleSettings","generateNewFunction","settings","updateLineColor","onSubmit","c","updateFillColor","dt","pow","floor","log10","selectortype_template_index_0_src_App","id","toggle-settings","step","autocomplete","autocorrect","autocapitalize","spellcheck","indexOf","_k","key","class","open","changed","src_App","App_normalizeComponent","Vue","use","config","productionTip","MathJax","Hub","Config","tex2jax","inlineMath","displayMath","processEscapes","processEnvironments","displayAlign","HTML-CSS","styles",".MathJax_Display","margin","linebreaks","automatic","Queue","body","el","template","PI_2","times","getNextPoint","n","phi","px","plus","cos","py","sin","currentStep","maxTotalSteps","box","polyLine","api","frameSteps","performance","now","pt","extendBoundingBoxIfNeeded","elapsed","newPolyLine","getPoints","points","innerWidth","peg$SyntaxError","expected","found","Error","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","i","escapedParts","parts","Array","classEscape","inverted","any","end","other","description","hex","charCodeAt","toString","toUpperCase","s","j","descriptions","sort","slice","join","describeExpected","describeFound","SyntaxError","peg$result","peg$FAILED","peg$startRuleFunctions","Expression","peg$parseExpression","peg$startRuleFunction","peg$c0","peg$c1","peg$literalExpectation","peg$c2","peg$c3","peg$c4","head","tail","element","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","peg$c11","peg$c12","peg$c13","peg$c14","peg$c15","peg$c16","peg$c17","peg$c18","expr","peg$c19","peg$c20","peg$c21","peg$c22","v","abs","peg$c23","peg$c24","peg$c25","ceil","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","peg$c42","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","base","exponent","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","f","peg$c85","peg$c86","peg$c87","sign","u","peg$c88","peg$c89","peg$c90","peg$classExpectation","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","peg$c101","peg$c102","peg$c103","peg$c104","peg$otherExpectation","peg$c105","peg$c106","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","ignoreCase","peg$computePosDetails","pos","p","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","offset","peg$fail","push","peg$buildStructuredError","s0","s2","s3","s4","s5","s6","s7","s8","peg$parse_","peg$parseTerm","s1","peg$parseFactor","peg$parseFloating","peg$parseInteger","peg$parseScientific","peg$parseSign","peg$parseE","substr","peg$parsePi","peg$parseConstant","test","charAt","peg$parseVariable","peg$parseNumber","peg$parsews","peg$parsesin","peg$parsecos","peg$parsetan","peg$parsesec","peg$parsecsc","peg$parsecot","peg$parseinvtrig","peg$parsetrig","peg$parselog","peg$parseln","peg$parseexp","peg$parsepow","peg$parsejs","peg$parsepower","peg$parsesqrt","peg$parseUnsigned","generators","getDivider","cap","arguments","undefined","random","randomGenerator"],"mappings":"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","file":"static/js/app.93b2422d90bb909a1dcd.js","sourcesContent":["/**\n * This is a simple way to pass messages between application components.\n */\nvar eventify = require('ngraph.events');\n\nmodule.exports = eventify({});\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","function encodeColor(r, g, b, a) {\n  return ((r & 0xFF) << 24) | ((g & 0xFF) << 16) | ((b & 0xFF) << 8) | ((a * 255) & 0xFF);\n}\nexports.encodeColor = encodeColor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/encodeColor.js","const wgl = require('w-gl');\nconst bus = require('../bus');\n\nmodule.exports = function createScene() {\n  let lastSumCalculator;\n  let lastFrame;\n  let touched = false;\n  let lines;\n  let lineA = 0.06, lineR = 255, lineG = 255, lineB = 255;\n  let sceneA = 1, sceneR = 12, sceneG = 41, sceneB = 82;\n  let canvas = document.getElementById('scene-canvas');\n  let webGLScene;\n\n  let webGLEnabled = wgl.isWebGLEnabled(canvas);\n  if (webGLEnabled) {\n    listenToEvents();\n\n    webGLScene = wgl.scene(canvas, {});\n    let gl = webGLScene.getGL();\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    webGLScene.setClearColor(sceneR/255, sceneG/255, sceneB/255, sceneA)\n    webGLScene.setPixelRatio(1);\n\n    window.addEventListener('resize', redrawCurrentPoints);\n  }\n\n  return {\n    webGLEnabled,\n    setSumCalculator,\n    restartCalculator,\n    redrawCurrentPoints,\n    dispose,\n    setClearColor,\n    getClearColor,\n    setLineColor,\n    getLineColor\n  }\n\n  function setClearColor(r, g, b, a) {\n    sceneR = r;\n    sceneG = g;\n    sceneB = b;\n    sceneA = Math.round(a * 100)/100;\n\n    webGLScene.setClearColor(sceneR/255, sceneG/255, sceneB/255, sceneA)\n    redrawCurrentPoints();\n  }\n\n  function setLineColor(r, g, b, a) {\n    lineR = r;\n    lineG = g;\n    lineB = b;\n    lineA = a;\n\n    if (lines) {\n      lines.color.r = lineR/255;\n      lines.color.g = lineG/255;\n      lines.color.b = lineB/255;\n      lines.color.a = lineA;\n      webGLScene.renderFrame();\n    }\n  }\n\n  function getLineColor() {\n    return `rgba(${lineR}, ${lineG}, ${lineB}, ${Math.round(lineA * 100)/100})`; \n  }\n\n  function getClearColor() {\n    return `rgba(${sceneR}, ${sceneG}, ${sceneB}, ${sceneA})`; \n  }\n\n  function dispose() {\n    webGLScene.dispose();\n    removeEventListeners();\n    if (lastFrame) {\n      cancelAnimationFrame(lastFrame);\n      lastFrame = 0;\n    }\n  }\n\n  function listenToEvents() {\n    canvas.addEventListener('mousedown', markTouched)\n    canvas.addEventListener('touchstart', markTouched)\n    canvas.addEventListener('wheel', markTouched)\n  }\n\n  function removeEventListeners() {\n    canvas.removeEventListener('mousedown', markTouched)\n    canvas.removeEventListener('touchstart', markTouched)\n    canvas.removeEventListener('wheel', markTouched)\n  }\n\n  function setSumCalculator(sumCalculator) {\n    touched = false;\n    createSumCalculator(sumCalculator);\n  }\n\n  function createSumCalculator(sumCalculator) {\n    lastSumCalculator = sumCalculator;\n    resetLines();\n  }\n\n  function restartCalculator() {\n    if (!lastSumCalculator) return;\n    lastSumCalculator.reset();\n    resetLines();\n  }\n\n  function resetLines() {\n    if (lines) webGLScene.removeChild(lines);\n\n    let options = lastSumCalculator.getOptions();\n    lines = new wgl.LineStripCollection(Math.min(options.bufferSize), {allowColors: false, is3D: false});\n    lines.color.r = lineR/255;\n    lines.color.g = lineG/255;\n    lines.color.b = lineB/255;\n    lines.color.a = lineA;\n    lines.add({x: 0, y: 0});\n    lastSumCalculator.setPolyLine(lines);\n\n    webGLScene.appendChild(lines);\n    scheduleNextFrame();\n  }\n\n\n\n  function scheduleNextFrame() {\n    if (lastSumCalculator.isDone() || lastFrame) return;\n    lastFrame = requestAnimationFrame(nextFrame);\n  }\n\n  function nextFrame() {\n    lastFrame = 0;\n    lastSumCalculator.compute();\n    \n    updateBoundingBox();\n    webGLScene.renderFrame();\n    bus.fire('progress', lastSumCalculator.getCurrentStep(), lastSumCalculator.getTotalSteps())\n    scheduleNextFrame();\n  }\n\n  function redrawCurrentPoints() {\n    webGLScene.renderFrame();\n  }\n\n  function markTouched() { touched = true; }\n\n  function updateBoundingBox() {\n    if (touched || !lastSumCalculator.bboxChanged) {\n      return;\n    }\n\n    let boundingBox = lastSumCalculator.getBoundingBox();\n    let dx = (boundingBox.maxX - boundingBox.minX) * 0.1;\n    let dy = (boundingBox.maxY - boundingBox.minY) * 0.1;\n\n    webGLScene.setViewBox({\n      left:  boundingBox.minX - dx,\n      top:   boundingBox.minY - dy,\n      right:  boundingBox.maxX + dx,\n      bottom: boundingBox.maxY + dy,\n    })\n\n    lastSumCalculator.bboxChanged = false;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scene.js","const {useDecimal} = require('./config');\nconst queryState = require('query-state');\nvar qs = queryState({\n  code: 'x / 3',\n  bufferSize: 10000,\n  totalSteps: 10000,\n  spi: 500 // stepsPerIteration\n}, {\n  useSearch: true\n});\n\nconst sumCalculator = require('./sumCalculator.js');\nconst createScene = require('./scene');\nconst {parse} = require('../js-arithmetics');\nconst {parse:parseDecimal} = require('../decimal-arithmetics');\nconst Decimal = require('decimal.js');\nlet shouldIgnoreCodeChange = false;\nwindow.Decimal = Decimal;\nDecimal.PI = Decimal.acos(-1);\nDecimal.E = Decimal(1).exp();\n\n\nconst scene = createScene();\nconst persistedState = qs.get();\n\nlet generatorOptions = {\n  next: null,\n  bufferSize: persistedState.bufferSize,\n  stepsPerIteration: persistedState.spi,\n  totalSteps: persistedState.totalSteps,\n};\n\n\nvar code = {\n  code: persistedState.code,\n  error: null,\n  isImmediate: false,\n  setCode(newCode, immediate) {\n    if (!appState.webGLEnabled) return;\n\n    if (shouldIgnoreCodeChange) {\n      shouldIgnoreCodeChange = false;\n      return;\n    }\n\n    var newNext = compileNextFunction(newCode);\n    if (!newNext) return; // error\n\n    qs.set('code', newCode);\n    code.error = null;\n    code.code = newCode;\n\n    generatorOptions.next = newNext;\n\n    if (immediate) {\n      const newSumCalculator = sumCalculator(generatorOptions);\n      scene.setSumCalculator(newSumCalculator);\n    } else if (!code.immediate) {\n      scene.redrawCurrentPoints();\n    }\n    code.immediate = immediate;\n  }\n}\n\nvar appState = {\n  code,\n  webGLEnabled: scene.webGLEnabled,\n\n  ignoreNextEditorChange() {\n    shouldIgnoreCodeChange = true;\n  },\n  getLineColor() { return scene.getLineColor() },\n  setLineColor(r, g, b, a) { \n    scene.setLineColor(r, g, b, a);\n  },\n  getFillColor() { return scene.getClearColor(); },\n  setFillColor(r, g, b, a) {\n    scene.setClearColor(r, g, b, a);\n  },\n  getTotalSteps() { return generatorOptions.totalSteps; },\n  setTotalSteps(newValue, doNotRestart) {\n    generatorOptions.totalSteps = getNumber(newValue, generatorOptions.totalSteps);\n    qs.set('totalSteps', generatorOptions.totalSteps);\n    if (doNotRestart) return;\n    scene.restartCalculator();\n  },\n\n  getBufferSize() { return generatorOptions.bufferSize; },\n  setBufferSize(newValue, doNotRestart) {\n    generatorOptions.bufferSize = getNumber(newValue, generatorOptions.bufferSize);\n    qs.set('bufferSize', generatorOptions.bufferSize);\n\n    if (doNotRestart) return;\n    scene.restartCalculator();\n  },\n\n  getStepsPerIteration() { return generatorOptions.stepsPerIteration; },\n  setStepsPerIteration(newValue) { \n    generatorOptions.stepsPerIteration = getNumber(newValue, generatorOptions.stepsPerIteration);\n    qs.set('spi', generatorOptions.stepsPerIteration);\n    scene.redrawCurrentPoints()\n  },\n\n  settingsPanel: {\n    collapsed: true\n  },\n}\n\nmodule.exports = appState\n\ncode.setCode(persistedState.code, true);\n\nfunction getNumber(str, defaultValue) {\n  var parsed = Number.parseFloat(str);\n  if (Number.isNaN(parsed)) return defaultValue;\n  return parsed;\n}\n\nfunction compileNextFunction(newCode) {\n  try {\n    console.log('compiling ' + newCode);\n    const compiledCode = useDecimal ? parseDecimal(newCode) : parse(newCode);\n    console.log('compiled: ' + compiledCode)\n    var creator = new Function(`function f(x) {\n  return ${compiledCode};\n}\nreturn f;`);\n    var next = creator();\n    next(0); // just a test.\n    return next;\n  } catch (e) {\n    code.error = e.message;\n    code.location = e.location && e.location.start;\n    console.error(e);\n    return null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/appState.js","<template>\n  <div class='formula-editor'>\n  <div class='editor-row'>\n    <div class='formula math'>𝑓(x) = </div>\n    <div class='input-container'>\n      <div class='syntax math offset' v-html='codeHighlight' ref='syntax'></div>\n      <input class='math offset' type=\"text\" v-model='model.code' ref='editor' @keydown.capture=\"handleKeyDown\" @keyup=\"syncScroll\"> \n    </div>\n  </div>\n    <div class='error-container'>\n      <pre v-if='model.error' class='error hl'>{{model.error}}</pre>\n    </div> \n  </div>\n</template>\n<script>\nexport default {\n  props: ['model'],\n  computed: {\n    codeHighlight() {\n      const code = this.model.code;\n      let rules = [{\n        pattern: /[0-9]+(\\.[0-9]+)?/g,\n        className: 'number'\n      }, {\n        pattern: /[\\(\\)]/g,\n        className: 'bracket'\n      }]\n      return rules.reduce(evaluateRule, code);\n    }\n  },\n  methods: {\n    syncScroll() {\n      let {editor, syntax} = this.$refs;\n      if (!editor || !syntax) return;\n\n      syntax.scrollLeft = editor.scrollLeft;\n    },\n    handleKeyDown(e) {\n      this.syncScroll();\n      let direction = 0;\n      if (e.keyCode === 38) { // arrow up\n        direction = 1;\n      } else if (e.keyCode === 40) {\n        direction = -1; // arrow down\n      }\n      if (direction) {\n        e.preventDefault();\n        let {value, selectionStart} = this.$refs.editor;\n        let result = queryNumberAndCursor(value, selectionStart)\n        if (result) {\n          const prefix = value.substring(0, result.from);\n          const suffix = value.substring(result.to + 1);\n          const newCode = (prefix + (result.number + direction) + suffix)\n          this.model.setCode(newCode);\n          this.$nextTick(() => {\n            setCaretPosition(this.$refs.editor, selectionStart);\n          })\n        }\n      }\n    }\n  },\n\n  watch: {\n    'model.code': function() {\n      if (this.pendingSetCode) {\n        clearTimeout(this.pendingSetCode);\n      }\n      this.syncScroll();\n\n      // We don't want to update code on each key stroke. This would have negative\n      // impact on performance.\n      this.pendingSetCode = setTimeout(() => {\n        this.model.setCode(this.model.code, true);\n        this.pendingSetCode = 0;\n      }, 300);\n    },\n  }\n}\nfunction evaluateRule(code, rule) {\n  return code.replace(rule.pattern, match => `<span class=${rule.className}>${match}</span>`);\n}\n\nfunction queryNumberAndCursor(value, from) {\n  return (getNumber(value, from) || getNumber(value, from - 1));\n}\n\nfunction getNumber(string, at) {\n  if (!string || at < 0 || string.length < at) return;\n  if (!isDigitOrDot(string[at])) return;\n  let from = at;\n  while (isDigitOrDot(string[from - 1])) from -= 1;\n\n  let to = at;\n  while (isDigitOrDot(string[to + 1])) to += 1;\n\n  return {\n    from, \n    to, \n    number: Number.parseFloat(string.substring(from, to + 1)),\n  }\n}\n\nfunction isDigitOrDot(ch) {\n  return ch && ch.match(/[0-9.]/);\n}\n\nfunction setCaretPosition(elem, caretPos) {\n  if(elem === null) {\n    return;\n  }\n  if(elem.createTextRange) {\n      var range = elem.createTextRange();\n      range.move('character', caretPos);\n      range.select();\n  }\n  else {\n      if(elem.selectionStart) {\n          elem.focus();\n          elem.setSelectionRange(caretPos, caretPos);\n      }\n      else\n          elem.focus();\n  }\n}\n\n</script>\n\n<style lang=\"stylus\">\n\n@import '../shared.styl';\n\nleft-padding = 58px;\n\n.formula-editor {\n  border: 1px solid secondary-border;\n  padding-right: 94px;\n}\n\n.editor-row {\n  width: 100%;\n  display: flex;\n  color: white;\n  font-size: 18px;\n  height: 48px;\n  align-items: center;\n\n  .formula {\n    left: 8px;\n    position: absolute;\n    pointer-events: none;\n  }\n\n  .math {\n    font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw;\n  }\n\n  .input-container {\n    flex: 1;\n    align-self: stretch;\n    position: relative;\n    font-size: 18px;\n    .syntax {\n      padding-left: left-padding+1px;\n      white-space:pre;\n      overflow: hidden;\n      display: flex;\n      align-items: center;\n      .number {\n        color: #f99157;\n      }\n      .bracket {\n        color: gray;\n      }\n    }\n  }\n\n  .offset {\n    top: 0;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  }\n\n  input {\n    font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw;\n    font-size: 18px;\n    caret-color: primary-text;\n    background: transparent;\n    color: transparent;\n    border: 1px solid transparent;\n    padding-left: left-padding;\n\n    &:focus {\n      outline-offset: 0;\n      outline: none;\n      border: 1px dashed;\n    }\n    &:invalid {\n      box-shadow:none;\n    }\n  }\n}\n  .error {\n    white-space: normal;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FormulaEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"formula-editor\"},[_c('div',{staticClass:\"editor-row\"},[_c('div',{staticClass:\"formula math\"},[_vm._v(\"𝑓(x) = \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-container\"},[_c('div',{ref:\"syntax\",staticClass:\"syntax math offset\",domProps:{\"innerHTML\":_vm._s(_vm.codeHighlight)}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.code),expression:\"model.code\"}],ref:\"editor\",staticClass:\"math offset\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.model.code)},on:{\"!keydown\":function($event){return _vm.handleKeyDown($event)},\"keyup\":_vm.syncScroll,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model, \"code\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"error-container\"},[(_vm.model.error)?_c('pre',{staticClass:\"error hl\"},[_vm._v(_vm._s(_vm.model.error))]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54e26cbc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FormulaEditor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54e26cbc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FormulaEditor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormulaEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormulaEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54e26cbc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormulaEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FormulaEditor.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='color-container'>\n    <input type='text' @click.prevent='showPicker' :value='color' readonly class='color-label'>\n    <div class='picker' @click='hidePicker' v-if='opened' ref='pickerOverlay'>\n      <chrome-color-picker :value='color' :style='getPickerStyle()' @input='onChanged'></chrome-color-picker>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Sketch  } from 'vue-color';\nexport default {\n  name: 'ColorPicker',\n  props: ['color'],\n  components: {\n    'chrome-color-picker': Sketch\n  },\n  data() {\n    return {\n      opened: false,\n    }\n  },\n  methods: {\n    showPicker() {\n      this.opened = true;\n    },\n    hidePicker(e) {\n      if (e.target === this.$refs.pickerOverlay) this.opened = false;\n    },\n    getPickerStyle() {\n      let rect = this.$el.getBoundingClientRect();\n      return {\n        position: 'absolute',\n        left: (rect.left - 30) + 'px',\n        top: (rect.top - 179) + 'px'\n      }\n    },\n    onChanged(e) {\n      this.$emit('changed', e.rgba);\n    }\n  }\n}\n</script>\n<style lang='stylus'>\n.color-container {\n  width: 100%;\n}\n.picker {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n}\ninput[type=\"text\"].color-label {\n  cursor: pointer;\n  font-size: 12px;\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ColorPicker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"color-container\"},[_c('input',{staticClass:\"color-label\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.color},on:{\"click\":function($event){$event.preventDefault();return _vm.showPicker($event)}}}),_vm._v(\" \"),(_vm.opened)?_c('div',{ref:\"pickerOverlay\",staticClass:\"picker\",on:{\"click\":_vm.hidePicker}},[_c('chrome-color-picker',{style:(_vm.getPickerStyle()),attrs:{\"value\":_vm.color},on:{\"input\":_vm.onChanged}})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c537178\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ColorPicker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c537178\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ColorPicker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColorPicker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColorPicker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c537178\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ColorPicker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ColorPicker.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='about'>\n    <div class='background absolute' @click.prevent='close'></div>\n    <div class='content'>\n      <h3>E-Sum <a class='close bold' href='#' @click.prevent='close'>close</a></h3>\n      <div>\n        <p>This website visualizes exponential sums. An exponential sum is an expression of the form</p>\n        <vue-mathjax formula=\"$$\\sum_{x=1}^n e^{2\\pi i f(x)}$$\"></vue-mathjax>\n        <p>Which translates to complex plane as</p>\n        <vue-mathjax formula=\"$$x = \\cos(2\\pi f(x))\\\\y = sin(2\\pi f(x))$$\"></vue-mathjax>\n        <p>Sequence of partial sums is plotted as sequence of connected points by this visualization.</p>\n        <p>\n          <vue-mathjax formula=\"Type the formula for $f(x)$ to generate a new visualization\"></vue-mathjax>\n        </p>\n      </div>\n      <ul>\n        <li>\n          <a href='https://github.com/anvaka/e-sum' class='highlighted'>Learn more </a> about this project on GitHub\n        </li><li>\n        Stay tuned for updates on <a href='https://twitter.com/anvaka' class='highlighted'>Twitter</a>\n        </li><li>\n        <a href='https://www.patreon.com/anvaka' class='highlighted'>Support development</a>.\n        </li>\n\n      </ul>\n      <p>With passion,<br/> Anvaka</p>\n      <a href='#' @click.prevent='close' class='large-close bold'>\n        close\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  mounted() {\n    this.closeHandler = (e) => {\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        this.close();\n      }\n    }\n    document.addEventListener('keyup', this.closeHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.closeHandler);\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    }\n  }\n}\n</script>\n<style lang='stylus'>\n@import \"../shared.styl\";\n\n.about {\n  position: absolute;\n  overflow-y: auto;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.7);\n  align-items: flex-start;\n\n  .close {\n    position: absolute;\n    right: 15px;\n    font-size: 12px;\n  }\n  .large-close {\n    width: 100%;\n    height: 32px;\n    display: block;\n    text-align: center;\n  }\n  .content {\n    color: secondary-text;\n    position: relative;\n    background: window-background;\n    width: 400px;\n    padding: 14px;\n    border: 1px solid primary-border;\n    h3 {\n      margin: 0;\n      font-weight: normal;\n    }\n  }\n}\n.background {\n  position: absolute;\n  background-color: hsla(215, 74%, 18%, 0.8);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n@media (max-width: 800px) {\n  .about {\n    justify-content: initial;\n  }\n  .about .content {\n    width: 100%;\n    border: none;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/About.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('div',{staticClass:\"background absolute\",on:{\"click\":function($event){$event.preventDefault();return _vm.close($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h3',[_vm._v(\"E-Sum \"),_c('a',{staticClass:\"close bold\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close($event)}}},[_vm._v(\"close\")])]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"This website visualizes exponential sums. An exponential sum is an expression of the form\")]),_vm._v(\" \"),_c('vue-mathjax',{attrs:{\"formula\":\"$$\\\\sum_{x=1}^n e^{2\\\\pi i f(x)}$$\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"Which translates to complex plane as\")]),_vm._v(\" \"),_c('vue-mathjax',{attrs:{\"formula\":\"$$x = \\\\cos(2\\\\pi f(x))\\\\\\\\y = sin(2\\\\pi f(x))$$\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"Sequence of partial sums is plotted as sequence of connected points by this visualization.\")]),_vm._v(\" \"),_c('p',[_c('vue-mathjax',{attrs:{\"formula\":\"Type the formula for $f(x)$ to generate a new visualization\"}})],1)],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('a',{staticClass:\"large-close bold\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close($event)}}},[_vm._v(\"\\n      close\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://github.com/anvaka/e-sum\"}},[_vm._v(\"Learn more \")]),_vm._v(\" about this project on GitHub\\n      \")]),_c('li',[_vm._v(\"\\n      Stay tuned for updates on \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://twitter.com/anvaka\"}},[_vm._v(\"Twitter\")])]),_c('li',[_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://www.patreon.com/anvaka\"}},[_vm._v(\"Support development\")]),_vm._v(\".\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"With passion,\"),_c('br'),_vm._v(\" Anvaka\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33a5ec03\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/About.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33a5ec03\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./About.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33a5ec03\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/About.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"help-icon\",attrs:{\"href\":\"#\",\"title\":\"Click for more details\"},on:{\"click\":function($event){$event.preventDefault();return _vm.show($event)}}},[_c('svg',{attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"width\":\"9\",\"height\":\"14\",\"viewBox\":\"0 0 9 14\",\"fill\":\"#267fcd\"}},[_c('path',{attrs:{\"d\":\"M5.5 9.812v1.875q0 0.125-0.094 0.219t-0.219 0.094h-1.875q-0.125 0-0.219-0.094t-0.094-0.219v-1.875q0-0.125 0.094-0.219t0.219-0.094h1.875q0.125 0 0.219 0.094t0.094 0.219zM7.969 5.125q0 0.422-0.121 0.789t-0.273 0.598-0.43 0.465-0.449 0.34-0.477 0.277q-0.32 0.18-0.535 0.508t-0.215 0.523q0 0.133-0.094 0.254t-0.219 0.121h-1.875q-0.117 0-0.199-0.145t-0.082-0.293v-0.352q0-0.648 0.508-1.223t1.117-0.848q0.461-0.211 0.656-0.438t0.195-0.594q0-0.328-0.363-0.578t-0.84-0.25q-0.508 0-0.844 0.227-0.273 0.195-0.836 0.898-0.102 0.125-0.242 0.125-0.094 0-0.195-0.062l-1.281-0.977q-0.102-0.078-0.121-0.195t0.043-0.219q1.25-2.078 3.625-2.078 0.625 0 1.258 0.242t1.141 0.648 0.828 0.996 0.32 1.238z\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e8ca81e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Icon.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Icon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Icon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e8ca81e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Icon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icon.vue\n// module id = null\n// module chunks = ","<template>\n<a @click.prevent='show' class='help-icon' href='#' title='Click for more details'>\n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"9\" height=\"14\" viewBox=\"0 0 9 14\" fill='#267fcd' >\n<path d=\"M5.5 9.812v1.875q0 0.125-0.094 0.219t-0.219 0.094h-1.875q-0.125 0-0.219-0.094t-0.094-0.219v-1.875q0-0.125 0.094-0.219t0.219-0.094h1.875q0.125 0 0.219 0.094t0.094 0.219zM7.969 5.125q0 0.422-0.121 0.789t-0.273 0.598-0.43 0.465-0.449 0.34-0.477 0.277q-0.32 0.18-0.535 0.508t-0.215 0.523q0 0.133-0.094 0.254t-0.219 0.121h-1.875q-0.117 0-0.199-0.145t-0.082-0.293v-0.352q0-0.648 0.508-1.223t1.117-0.848q0.461-0.211 0.656-0.438t0.195-0.594q0-0.328-0.363-0.578t-0.84-0.25q-0.508 0-0.844 0.227-0.273 0.195-0.836 0.898-0.102 0.125-0.242 0.125-0.094 0-0.195-0.062l-1.281-0.977q-0.102-0.078-0.121-0.195t0.043-0.219q1.25-2.078 3.625-2.078 0.625 0 1.258 0.242t1.141 0.648 0.828 0.996 0.32 1.238z\"></path>\n</svg>\n</a>\n</template>\n\n<script>\nexport default {\n  methods: {\n    show() { this.$emit('show');}\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Icon.vue","<template>\n  <div id=\"app\">\n    <div v-if='!webGLEnabled'>\n      <div class='absolute no-webgl'>\n        <h4>WebGL is not enabled :(</h4>\n        <p>This website needs <a href='https://en.wikipedia.org/wiki/WebGL' class='highlighted'>WebGL</a> to render visualization.\n        </p> <p>\n        You can try another browser. If problem persists - very likely your video card isn't supported then.\n        </p>\n      </div>\n    </div>\n    <div class=\"controls-container\" v-if='webGLEnabled'>\n      <formula-editor :model=\"code\" @toggle-settings=\"toggleSettings()\"></formula-editor>\n      <a\n        href=\"#\"\n        class=\"help-title\"\n        @click.prevent='aboutVisible = !aboutVisible'\n        title=\"click to learn more about this website\"\n      >what is this?</a>\n      <div class=\"status-bar\">\n        <a\n          class=\"generate-trigger\"\n          href=\"#\"\n          @click.prevent=\"toggleSettings()\"\n          title=\"Click here to toggle visualization settings\"\n        >{{settingsPanel.collapsed ? 'Show settings' : 'Hide settings' }}</a>\n        <a\n          class=\"generate-trigger\"\n          href=\"#\"\n          @click.prevent=\"generateNewFunction\"\n          title=\"Click here to generate a new random image\"\n        >Create new image</a>\n      </div>\n\n      <div class=\"settings\" v-show=\"!settingsPanel.collapsed\">\n        <div class=\"block\">\n          <div class=\"title\">Settings</div>\n\n          <div class=\"row\">\n            <div class=\"col\">Total steps</div>\n            <div class=\"col\">\n              <input\n                type=\"number\"\n                :step=\"stepsPerIterationDelta\"\n                v-model=\"totalSteps\"\n                @keyup.enter=\"onSubmit\"\n                autocomplete=\"off\"\n                autocorrect=\"off\"\n                autocapitalize=\"off\"\n                spellcheck=\"false\"\n              />\n            </div>\n            <help-icon @show=\"totalStepsHelp = !totalStepsHelp\" :class=\"{open: totalStepsHelp}\"></help-icon>\n          </div>\n          <div class=\"row help\" v-if=\"totalStepsHelp\">\n            <div>\n              <p>How many iterations should we make before stopping?</p>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col\">Steps per frame</div>\n            <div class=\"col\">\n              <input\n                type=\"number\"\n                :step=\"stepsPerIterationDelta\"\n                v-model=\"stepsPerIteration\"\n                @keyup.enter=\"onSubmit\"\n                autocomplete=\"off\"\n                autocorrect=\"off\"\n                autocapitalize=\"off\"\n                spellcheck=\"false\"\n              />\n            </div>\n            <help-icon\n              @show=\"stepsPerIterationHelp = !stepsPerIterationHelp\"\n              :class=\"{open: stepsPerIterationHelp}\"\n            ></help-icon>\n          </div>\n          <div\n            class=\"row help\"\n            v-if=\"stepsPerIterationHelp\"\n          >How many iterations do we make per single rendering frame?</div>\n          <div class=\"row\">\n            <div class=\"col\">Maximum lines</div>\n            <div class=\"col\">\n              <input\n                type=\"number\"\n                :step=\"bufferSizeDelta\"\n                v-model=\"bufferSize\"\n                @keyup.enter=\"onSubmit\"\n                autocomplete=\"off\"\n                autocorrect=\"off\"\n                autocapitalize=\"off\"\n                spellcheck=\"false\"\n              />\n            </div>\n            <help-icon @show=\"bufferSizeHelp = !bufferSizeHelp\" :class=\"{open: bufferSizeHelp}\"></help-icon>\n          </div>\n          <div\n            class=\"row help\"\n            v-if=\"bufferSizeHelp\"\n          >How many lines are visible?</div>\n          <div class=\"row\">\n            <div class=\"col\">Line Color</div>\n            <div class=\"col\">\n              <color-picker :color=\"lineColor\" @changed=\"updateLineColor\"></color-picker>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col\">Background color</div>\n            <div class=\"col\">\n              <color-picker :color=\"fillColor\" @changed=\"updateFillColor\"></color-picker>\n            </div>\n          </div>\n\n          <a href=\"#\" @click.prevent='toggleSettings' class='close'>Close settings</a>\n        </div>\n      </div>\n    </div>\n\n    <about @close='aboutVisible = false' v-if='aboutVisible'></about>\n    <a href=\"https://github.com/anvaka/e-sum\" class=\"about-link\">Source code</a>\n  </div>\n</template>\n\n<script>\nimport { VueMathjax } from \"vue-mathjax\";\nimport FormulaEditor from \"./components/FormulaEditor\";\nimport ColorPicker from \"./components/ColorPicker\";\nimport About from \"./components/About\";\nimport HelpIcon from \"./components/Icon\";\n\nvar isSmallScreen = require(\"./lib/isSmallScreen\");\nvar generateFunction = require(\"./lib/generate-function\");\nvar appState = require(\"./lib/appState\");\nvar bus = require(\"./bus\");\n\nexport default {\n  name: \"App\",\n  components: {\n    FormulaEditor,\n    About,\n    ColorPicker,\n    HelpIcon,\n    VueMathjax\n  },\n  mounted() {\n    bus.on(\"progress\", this.onProgress);\n  },\n  beforeDestroy() {\n    bus.off(\"progress\", this.onProgress);\n  },\n  data() {\n    return {\n      aboutVisible: false,\n      webGLEnabled: appState.webGLEnabled,\n      settingsPanel: appState.settingsPanel,\n      code: appState.code,\n\n      lineColor: appState.getLineColor(),\n      fillColor: appState.getFillColor(),\n\n      stepsPerIteration: appState.getStepsPerIteration(),\n      stepsPerIterationHelp: false,\n\n      totalSteps: appState.getTotalSteps(),\n      totalStepsHelp: false,\n\n      bufferSize: appState.getBufferSize(),\n      bufferSizeHelp: false,\n\n      current: 0,\n      outOf: 0\n    };\n  },\n  computed: {\n    stepsPerIterationDelta() {\n      return exponentialStep(this.stepsPerIteration);\n    },\n    totalStepsDelta() {\n      return exponentialStep(this.totalSteps);\n    },\n    bufferSizeDelta() {\n      return exponentialStep(this.bufferSize);\n    }\n  },\n  watch: {\n    stepsPerIteration(newValue) {\n      appState.setStepsPerIteration(newValue);\n    },\n    totalSteps(newValue) {\n      appState.setTotalSteps(newValue);\n    },\n    bufferSize(newValue) {\n      appState.setBufferSize(newValue);\n    }\n  },\n  methods: {\n    onProgress(current, outOf) {\n      this.current = current;\n      this.outOf = outOf;\n    },\n    draw() {\n      appState.redraw();\n    },\n    toggleSettings() {\n      this.settingsPanel.collapsed = !this.settingsPanel.collapsed;\n      this.aboutVisible = false;\n      bus.fire(\"settings-collapsed\", this.settingsPanel.collapsed);\n    },\n    generateNewFunction() {\n      var settings = generateFunction();\n      this.stepsPerIteration = settings.stepsPerIteration;\n      this.totalSteps = settings.totalSteps;\n      this.bufferSize = settings.bufferSize;\n      this.updateLineColor(settings.color);\n      appState.code.setCode(settings.code, true);\n      appState.ignoreNextEditorChange();\n    },\n    onSubmit() {\n      if (isSmallScreen()) {\n        appState.settingsPanel.collapsed = true;\n      }\n      appState.redraw();\n    },\n    updateLineColor(c) {\n      appState.setLineColor(c.r, c.g, c.b, c.a);\n      this.lineColor = appState.getLineColor();\n    },\n    updateFillColor(c) {\n      appState.setFillColor(c.r, c.g, c.b, c.a);\n      this.fillColor = appState.getFillColor();\n    }\n  }\n};\n\nfunction exponentialStep(value) {\n  var dt = Math.pow(10, Math.floor(Math.log10(value)));\n  if (value - dt === 0) {\n    // This is odd case when you are increasing number, but otherwise it's a good adjustment.\n    return dt / 10;\n  }\n  return dt;\n}\n</script>\n\n<style lang='stylus'>\n@import './shared.styl';\n\nstatus-color = #1B294A;\n\n.no-webgl {\n  width: 100%;\n  color: hsla(215, 37%, 55%, 1);\n  flex-direction: column; text-align: center;\n  padding: 12px;\n}\n.no-webgl h4 {\n  margin: 7px 0;\n  font-size: 24px;\n}\n\n* {\n  box-sizing: border-box;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\na {\n  color: primary-text;\n}\n\n.status-bar {\n  font-size: 14px;\n  color: secondary-text;\n  background: window-background;\n  display: flex;\n  flex-direction: row;\n  border-right: 1px solid secondary-border;\n  border-bottom: 1px solid secondary-border;\n\n  a.generate-trigger {\n    font-size: 16px;\n    padding: 8px;\n    flex: 1;\n    height: 42px;\n    display: flex;\n    align-self: stretch;\n    align-items: center;\n    justify-content: center;\n    border-left: 1px solid secondary-border;\n\n    &:hover {\n      background-color: #174e9b;\n      color: white;\n    }\n  }\n\n  a.syntax-visible {\n    background: status-color;\n    color: white;\n    font-style: normal;\n  }\n}\n.absolute {\n  position: absolute;\n}\n\na.help-title {\n  font-size: 14px;\n  color: #267fcd;\n  padding: 8px;\n  font-style: italic;\n  position: absolute;\n  top: 8px;\n  right: 0;\n}\n\n.help {\n  background-color: status-color;\n  color: secondary-text;\n  padding: 8px;\n  overflow: auto;\n  max-height: 100%;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.row.error {\n  background-color: severe-error-background;\n  color: primary-text;\n}\n\n.controls-container {\n  z-index: 1;\n  position: absolute;\n  background-color: #061838;\n  max-height: 100%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  width: 440px;\n  border-left: none;\n  border-top: none;\n  flex-direction: column;\n  display: flex;\n}\n\na {\n  text-decoration: none;\n}\n\n.settings {\n  flex: 1;\n  color: secondary-text;\n  left: 0;\n  overflow-y: auto;\n  border: 1px solid secondary-border;\n  background: window-background;\n  width: 100%;\n  padding: 7px 7px 7px 7px;\n  top: 47px;\n\n  a.help-title {\n    float: right;\n    font-size: 12px;\n    font-style: italic;\n    color: #267fcd;\n    height: 30px;\n    margin: -5px;\n    padding: 7px;\n  }\n}\n\n.settings.collapsed {\n  display: none;\n}\n\n.title {\n  margin-bottom: 7px;\n  color: primary-text;\n  font-size: 18px;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.col {\n  flex: 1;\n}\n\n.center {\n  justify-content: center;\n}\n\n.block {\n  .col {\n    align-items: center;\n    display: flex;\n  }\n\n  // .row {\n  // margin-top: 4px;\n  // }\n  select {\n    margin-left: 14px;\n  }\n\n  input[type='text'], input[type='number'] {\n    background: transparent;\n    color: primary-text;\n    border: 1px solid transparent;\n    padding: 7px;\n    font-size: 16px;\n    width: 100%;\n    margin-left: 7px;\n\n    &:focus {\n      outline-offset: 0;\n      outline: none;\n      border: 1px dashed;\n      background: #13294f;\n    }\n\n    &:invalid {\n      box-shadow: none;\n    }\n  }\n}\n\n.reset {\n  text-decoration: none;\n  color: white;\n  display: flex;\n  justify-content: center;\n}\n\n.bounding-box {\n  position: relative;\n\n  .title {\n    position: absolute;\n    bottom: 0;\n    font-size: 12px;\n    left: 0;\n    color: ternary-text;\n  }\n\n  .reset {\n    font-size: 16px;\n  }\n\n  input[type='number'] {\n    width: 100px;\n    margin: 0;\n    font-size: 12px;\n    text-align: center;\n    color: secondary-text;\n  }\n\n  input:invalid {\n    box-shadow: none;\n  }\n\n  .max-x {\n    justify-content: flex-end;\n  }\n}\n\na.about-link {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 42px;\n  padding-left: 7px;\n  display: flex;\n  align-items: center;\n}\n\n@keyframes blink {\n  from {\n    background: rgba(10, 25, 54, 1);\n  }\n\n  to {\n    background: rgba(24, 63, 154, 1);\n  }\n}\n\n.controls {\n  display: flex;\n  flex-shrink: 0;\n  height: control-bar-height;\n  width: 100%;\n  background-color: status-color;\n\n  a {\n    padding: 8px;\n    display: flex;\n    flex: 1;\n    border-left: 1px solid secondary-border;\n    justify-content: center;\n    align-items: center;\n  }\n\n  a.dirty {\n    background-color: rgba(24, 63, 154, 1);\n    // animation: blink 1500ms ease-in-out infinite alternate;\n  }\n\n  a:first-child {\n    border-left: 0;\n  }\n\n  a.share-btn {\n    display: none;\n\n    svg {\n      fill: white;\n    }\n  }\n\n  a.toggle-pause {\n    flex: 0.3;\n  }\n}\n\npre.error {\n  background: severe-error-background;\n  color: #ffff;\n  margin: 0px -8px;\n  padding: 0 8px;\n}\n\n@media (max-width: small-screen) {\n  a.about-link {\n    bottom: 0;\n  }\n\n  .controls-container {\n    width: 100%;\n  }\n}\n\n@media print {\n  #app {\n    display: none;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.webGLEnabled)?_c('div',[_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.webGLEnabled)?_c('div',{staticClass:\"controls-container\"},[_c('formula-editor',{attrs:{\"model\":_vm.code},on:{\"toggle-settings\":function($event){return _vm.toggleSettings()}}}),_vm._v(\" \"),_c('a',{staticClass:\"help-title\",attrs:{\"href\":\"#\",\"title\":\"click to learn more about this website\"},on:{\"click\":function($event){$event.preventDefault();_vm.aboutVisible = !_vm.aboutVisible}}},[_vm._v(\"what is this?\")]),_vm._v(\" \"),_c('div',{staticClass:\"status-bar\"},[_c('a',{staticClass:\"generate-trigger\",attrs:{\"href\":\"#\",\"title\":\"Click here to toggle visualization settings\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSettings()}}},[_vm._v(_vm._s(_vm.settingsPanel.collapsed ? 'Show settings' : 'Hide settings'))]),_vm._v(\" \"),_c('a',{staticClass:\"generate-trigger\",attrs:{\"href\":\"#\",\"title\":\"Click here to generate a new random image\"},on:{\"click\":function($event){$event.preventDefault();return _vm.generateNewFunction($event)}}},[_vm._v(\"Create new image\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.settingsPanel.collapsed),expression:\"!settingsPanel.collapsed\"}],staticClass:\"settings\"},[_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Settings\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Total steps\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.totalSteps),expression:\"totalSteps\"}],attrs:{\"type\":\"number\",\"step\":_vm.stepsPerIterationDelta,\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.totalSteps)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.totalSteps=$event.target.value}}})]),_vm._v(\" \"),_c('help-icon',{class:{open: _vm.totalStepsHelp},on:{\"show\":function($event){_vm.totalStepsHelp = !_vm.totalStepsHelp}}})],1),_vm._v(\" \"),(_vm.totalStepsHelp)?_c('div',{staticClass:\"row help\"},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Steps per frame\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stepsPerIteration),expression:\"stepsPerIteration\"}],attrs:{\"type\":\"number\",\"step\":_vm.stepsPerIterationDelta,\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.stepsPerIteration)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.stepsPerIteration=$event.target.value}}})]),_vm._v(\" \"),_c('help-icon',{class:{open: _vm.stepsPerIterationHelp},on:{\"show\":function($event){_vm.stepsPerIterationHelp = !_vm.stepsPerIterationHelp}}})],1),_vm._v(\" \"),(_vm.stepsPerIterationHelp)?_c('div',{staticClass:\"row help\"},[_vm._v(\"How many iterations do we make per single rendering frame?\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Maximum lines\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bufferSize),expression:\"bufferSize\"}],attrs:{\"type\":\"number\",\"step\":_vm.bufferSizeDelta,\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.bufferSize)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.bufferSize=$event.target.value}}})]),_vm._v(\" \"),_c('help-icon',{class:{open: _vm.bufferSizeHelp},on:{\"show\":function($event){_vm.bufferSizeHelp = !_vm.bufferSizeHelp}}})],1),_vm._v(\" \"),(_vm.bufferSizeHelp)?_c('div',{staticClass:\"row help\"},[_vm._v(\"How many lines are visible?\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Line Color\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('color-picker',{attrs:{\"color\":_vm.lineColor},on:{\"changed\":_vm.updateLineColor}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Background color\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('color-picker',{attrs:{\"color\":_vm.fillColor},on:{\"changed\":_vm.updateFillColor}})],1)]),_vm._v(\" \"),_c('a',{staticClass:\"close\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSettings($event)}}},[_vm._v(\"Close settings\")])])])],1):_vm._e(),_vm._v(\" \"),(_vm.aboutVisible)?_c('about',{on:{\"close\":function($event){_vm.aboutVisible = false}}}):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"about-link\",attrs:{\"href\":\"https://github.com/anvaka/e-sum\"}},[_vm._v(\"Source code\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"absolute no-webgl\"},[_c('h4',[_vm._v(\"WebGL is not enabled :(\")]),_vm._v(\" \"),_c('p',[_vm._v(\"This website needs \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://en.wikipedia.org/wiki/WebGL\"}},[_vm._v(\"WebGL\")]),_vm._v(\" to render visualization.\\n      \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n      You can try another browser. If problem persists - very likely your video card isn't supported then.\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"How many iterations should we make before stopping?\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e6642f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e6642f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e6642f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport VueMathjax from 'vue-mathjax'\n\nVue.use(VueMathjax);\n\nVue.config.productionTip = false\n\nif (window.MathJax) {\n  window.MathJax.Hub.Config({\n    tex2jax: {\n      inlineMath: [['$', '$']],\n      displayMath: [['$$', '$$'], ['[', ']']],\n      processEscapes: true,\n      processEnvironments: true\n    },\n    // Center justify equations in code and markdown cells. Elsewhere\n    // we use CSS to left justify single line equations in code cells.\n    displayAlign: 'center',\n    'HTML-CSS': {\n      styles: { '.MathJax_Display': { margin: 0 } },\n      linebreaks: { automatic: true }\n    }\n  })\n  window.MathJax.Hub.Queue([\n    'Typeset',\n    window.MathJax.Hub,\n    document.body\n  ])\n}\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const {useDecimal} = require('./config');\nconst Decimal = require('decimal.js');\nconst { encodeColor } = require(\"./encodeColor\");\n\nconst PI_2 = useDecimal ? Decimal.acos(-1).times(2) : Math.PI * 2;\n\nmodule.exports = sumCalculator;\n\nfunction sumCalculator(options) {\n  const getNextPoint = useDecimal ? getNextDecimalPoint : getNextFloatPoint;\n\n  let next;\n  let currentStep;\n  let maxTotalSteps;\n  let px, py;\n  let box;\n  let polyLine;\n\n  const api = {\n    reset,\n    compute,\n    setPolyLine,\n    bboxChanged: false,\n    getOptions() { return options; },\n    getBoundingBox: () => box,\n    getPoints: () => points,\n    isDone() { return currentStep >= maxTotalSteps; },\n    getCurrentStep() { return currentStep; },\n    getTotalSteps() { return maxTotalSteps; }\n  }\n\n  reset();\n  return api;\n\n  function initialBoundingBox() {\n    return {\n      minX: 0, maxX: 0,\n      minY: 0, maxY: 0\n    };\n  }\n\n  function setPolyLine(newPolyLine) {\n    polyLine = newPolyLine;\n  }\n\n  function reset() {\n    next = options.next;\n    currentStep = 1;\n    maxTotalSteps = options.totalSteps;\n    px = useDecimal ? Decimal(0) : 0; \n    py = useDecimal ? Decimal(0) : 0;\n    \n    box = initialBoundingBox();\n    api.bboxChanged = true;\n  }\n\n  function compute() {\n    let frameSteps = 0;\n    let start = window.performance.now();\n    while (currentStep < maxTotalSteps && frameSteps < options.stepsPerIteration) {\n      let pt = getNextPoint(currentStep);\n      extendBoundingBoxIfNeeded(pt.x, pt.y);\n      polyLine.add(pt);\n      currentStep += 1;\n      frameSteps += 1;\n      let elapsed = window.performance.now() - start;\n      if (elapsed > 12) break;\n    }\n\n    return (currentStep < maxTotalSteps);\n  }\n\n  function getNextDecimalPoint(n) {\n    const phi = next(n).times(PI_2);\n    px = px.plus(phi.cos());\n    py = py.plus(phi.sin());\n\n    return {x: Number(px), y: Number(py)}\n  }\n\n  function getNextFloatPoint(n) {\n    const phi = next(n) * PI_2;\n    // const r = PI_2 * 12 * n;\n    px += Math.cos(phi); // * Math.cos(r) - Math.sin(phi) * Math.sin(r);\n    py += Math.sin(phi); // * Math.cos(r) + Math.cos(phi) * Math.sin(r);\n    return {x: px, y: py}\n  }\n\n  function extendBoundingBoxIfNeeded(px, py) {\n    if (px < box.minX) { box.minX = px; api.bboxChanged = true; }\n    if (px > box.maxX) { box.maxX = px; api.bboxChanged = true; }\n    if (py < box.minY) { box.minY = py; api.bboxChanged = true; }\n    if (py > box.maxY) { box.maxY = py; api.bboxChanged = true; }\n  }\n}\n\nfunction getColor(r, g, b, a) {\n  r = Math.round(r * 255); \n  g = Math.round(g * 255);\n  b = Math.round(b * 255);\n  a = Math.round(a * 255);\n  return (r << 24) | (g << 16) | (b << 8) | a;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/sumCalculator.js","module.exports = function isSmallScreen() {\n  return window.innerWidth < 600;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/isSmallScreen.js","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { Expression: peg$parseExpression },\n      peg$startRuleFunction  = peg$parseExpression,\n\n      peg$c0 = \"+\",\n      peg$c1 = peg$literalExpectation(\"+\", false),\n      peg$c2 = \"-\",\n      peg$c3 = peg$literalExpectation(\"-\", false),\n      peg$c4 = function(head, tail) {\n            return tail.reduce(function(result, element) {\n              if (element[1] === \"+\") { return result +'.plus(' + element[3] + ')'; }\n              if (element[1] === \"-\") { return result + '.minus(' + element[3] + ')'; }\n            }, head);\n          },\n      peg$c5 = \"*\",\n      peg$c6 = peg$literalExpectation(\"*\", false),\n      peg$c7 = \"/\",\n      peg$c8 = peg$literalExpectation(\"/\", false),\n      peg$c9 = \"^\",\n      peg$c10 = peg$literalExpectation(\"^\", false),\n      peg$c11 = \"%\",\n      peg$c12 = peg$literalExpectation(\"%\", false),\n      peg$c13 = function(head, tail) {\n            return tail.reduce(function(result, element) {\n              if (element[1] === \"*\") { return result + '.times(' + element[3] + ')'; }\n              if (element[1] === \"/\") { return result + '.div(' + element[3] +')'; }\n              if (element[1] === \"^\") { return result + '.pow(' + element[3] + ')'; }\n              if (element[1] === \"%\") { return result + '.mod(' + element[3] + ')'; }\n            }, head);\n          },\n      peg$c14 = \"(\",\n      peg$c15 = peg$literalExpectation(\"(\", false),\n      peg$c16 = \")\",\n      peg$c17 = peg$literalExpectation(\")\", false),\n      peg$c18 = function(expr) { return '(' + expr + ')'; },\n      peg$c19 = function(s) { return 'Decimal(' + s + ')'; },\n      peg$c20 = \"abs(\",\n      peg$c21 = peg$literalExpectation(\"abs(\", false),\n      peg$c22 = function(v) { return Decimal.abs(v); },\n      peg$c23 = \"ceil(\",\n      peg$c24 = peg$literalExpectation(\"ceil(\", false),\n      peg$c25 = function(v) { return Decimal.ceil(v); },\n      peg$c26 = \"floor(\",\n      peg$c27 = peg$literalExpectation(\"floor(\", false),\n      peg$c28 = function(v) { return Decimal.floor(v); },\n      peg$c29 = \"round(\",\n      peg$c30 = peg$literalExpectation(\"round(\", false),\n      peg$c31 = function(v) { return Decimal.round(v); },\n      peg$c32 = \"random(\",\n      peg$c33 = peg$literalExpectation(\"random(\", false),\n      peg$c34 = function(v) { return 'Decimal.random()' + (v ? '.times(' + v + ')': '') ; },\n      peg$c35 = \"log(\",\n      peg$c36 = peg$literalExpectation(\"log(\", false),\n      peg$c37 = function(v) { return v+\".log()\"; },\n      peg$c38 = \"ln(\",\n      peg$c39 = peg$literalExpectation(\"ln(\", false),\n      peg$c40 = function(v) { return v+\".ln()\"; },\n      peg$c41 = \"exp(\",\n      peg$c42 = peg$literalExpectation(\"exp(\", false),\n      peg$c43 = function(v) { return v+\".exp()\"; },\n      peg$c44 = \"pow(\",\n      peg$c45 = peg$literalExpectation(\"pow(\", false),\n      peg$c46 = \", \",\n      peg$c47 = peg$literalExpectation(\", \", false),\n      peg$c48 = function(base, exponent) { return  base + '.pow(' + exponent +')'; },\n      peg$c49 = \"sin(\",\n      peg$c50 = peg$literalExpectation(\"sin(\", false),\n      peg$c51 = function(v) { return v+\".sin()\"; },\n      peg$c52 = \"cos(\",\n      peg$c53 = peg$literalExpectation(\"cos(\", false),\n      peg$c54 = function(v) { return v+\".cos()\"; },\n      peg$c55 = \"tan(\",\n      peg$c56 = peg$literalExpectation(\"tan(\", false),\n      peg$c57 = function(v) { return v+\".tan()\"; },\n      peg$c58 = \"sec(\",\n      peg$c59 = peg$literalExpectation(\"sec(\", false),\n      peg$c60 = function(v) { return \"Decimal(1).div(\" + v + \".cos())\"; },\n      peg$c61 = \"csc(\",\n      peg$c62 = peg$literalExpectation(\"csc(\", false),\n      peg$c63 = function(v) { return \"Decimal(1).div(\"+v+\".sin()\"; },\n      peg$c64 = \"cot(\",\n      peg$c65 = peg$literalExpectation(\"cot(\", false),\n      peg$c66 = function(v) { return \"Decimal(1).div(\"+v+\".tan())\"; },\n      peg$c67 = \"asin(\",\n      peg$c68 = peg$literalExpectation(\"asin(\", false),\n      peg$c69 = function(v) { return \"Decimal.asin(\" + v + \")\"; },\n      peg$c70 = \"acos(\",\n      peg$c71 = peg$literalExpectation(\"acos(\", false),\n      peg$c72 = function(v) { return \"Decimal.acos(\" + v + \")\"; },\n      peg$c73 = \"atan(\",\n      peg$c74 = peg$literalExpectation(\"atan(\", false),\n      peg$c75 = function(v) { return \"Decimal.atan(\" + v + \")\"; },\n      peg$c76 = \"sqrt(\",\n      peg$c77 = peg$literalExpectation(\"sqrt(\", false),\n      peg$c78 = function(v) { return v + \".sqrt()\"; },\n      peg$c79 = function(s) { return s; },\n      peg$c80 = \"e\",\n      peg$c81 = peg$literalExpectation(\"e\", false),\n      peg$c82 = \"E\",\n      peg$c83 = peg$literalExpectation(\"E\", false),\n      peg$c84 = function(f, s) { return f + (s ? s[0] + s[1]: \"\"); },\n      peg$c85 = \".\",\n      peg$c86 = peg$literalExpectation(\".\", false),\n      peg$c87 = function(sign, i, u) { return (sign ? sign : '') + i + (u ? u[0] + u[1] : \"\"); },\n      peg$c88 = function(sign, u) { return (sign ? sign : '') +u; },\n      peg$c89 = /^[0-9]/,\n      peg$c90 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c91 = function(v) { return v.join(\"\"); },\n      peg$c92 = function(sign, v) { return (sign === '-' ? v + '.neg()' : '') + v},\n      peg$c93 = function() { return \"Decimal.E\"; },\n      peg$c94 = \"Pi\",\n      peg$c95 = peg$literalExpectation(\"Pi\", false),\n      peg$c96 = \"pi\",\n      peg$c97 = peg$literalExpectation(\"pi\", false),\n      peg$c98 = \"PI\",\n      peg$c99 = peg$literalExpectation(\"PI\", false),\n      peg$c100 = function() { return \"Decimal.PI\"; },\n      peg$c101 = /^[xX]/,\n      peg$c102 = peg$classExpectation([\"x\", \"X\"], false, false),\n      peg$c103 = function(sign) { return (sign ? sign : '') + \"x\"; },\n      peg$c104 = peg$otherExpectation(\"whitespace\"),\n      peg$c105 = /^[ \\t\\n\\r]/,\n      peg$c106 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parseExpression() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseTerm();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parse_();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 43) {\n            s6 = peg$c0;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c1); }\n          }\n          if (s6 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 45) {\n              s6 = peg$c2;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c3); }\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parse_();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parseTerm();\n              if (s8 !== peg$FAILED) {\n                s5 = [s5, s6, s7, s8];\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parse_();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 43) {\n              s6 = peg$c0;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c1); }\n            }\n            if (s6 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 45) {\n                s6 = peg$c2;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c3); }\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parse_();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parseTerm();\n                if (s8 !== peg$FAILED) {\n                  s5 = [s5, s6, s7, s8];\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c4(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseTerm() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseFactor();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 42) {\n          s5 = peg$c5;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 47) {\n            s5 = peg$c7;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c8); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 94) {\n              s5 = peg$c9;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c10); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 37) {\n                s5 = peg$c11;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c12); }\n              }\n            }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseFactor();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 42) {\n            s5 = peg$c5;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c6); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 47) {\n              s5 = peg$c7;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 94) {\n                s5 = peg$c9;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c10); }\n              }\n              if (s5 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 37) {\n                  s5 = peg$c11;\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c12); }\n                }\n              }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseFactor();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c13(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFactor() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c14;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s5 = peg$c16;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c18(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parseNumber();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c19(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsetrig();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsepower();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsesqrt();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsejs() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c20) {\n      s1 = peg$c20;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c21); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c22(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c23) {\n        s1 = peg$c23;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c24); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseExpression();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c25(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 6) === peg$c26) {\n          s1 = peg$c26;\n          peg$currPos += 6;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c27); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseExpression();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsews();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s4 = peg$c16;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c17); }\n              }\n              if (s4 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c28(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 6) === peg$c29) {\n            s1 = peg$c29;\n            peg$currPos += 6;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c30); }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parseExpression();\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parsews();\n              if (s3 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 41) {\n                  s4 = peg$c16;\n                  peg$currPos++;\n                } else {\n                  s4 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                }\n                if (s4 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c31(s2);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 7) === peg$c32) {\n              s1 = peg$c32;\n              peg$currPos += 7;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c33); }\n            }\n            if (s1 !== peg$FAILED) {\n              s2 = peg$parseExpression();\n              if (s2 === peg$FAILED) {\n                s2 = null;\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parsews();\n                if (s3 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 41) {\n                    s4 = peg$c16;\n                    peg$currPos++;\n                  } else {\n                    s4 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                  }\n                  if (s4 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c34(s2);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsepower() {\n    var s0;\n\n    s0 = peg$parselog();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseln();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseexp();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsepow();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsejs();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parselog() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c35) {\n      s1 = peg$c35;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c37(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseln() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c38) {\n      s1 = peg$c38;\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c39); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c40(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseexp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c41) {\n      s1 = peg$c41;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c42); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c43(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepow() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c44) {\n      s1 = peg$c44;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c45); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsews();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsews();\n          if (s4 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c46) {\n              s5 = peg$c46;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c47); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsews();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseExpression();\n                if (s7 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 41) {\n                    s8 = peg$c16;\n                    peg$currPos++;\n                  } else {\n                    s8 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                  }\n                  if (s8 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c48(s3, s7);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetrig() {\n    var s0;\n\n    s0 = peg$parsesin();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsecos();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsetan();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsesec();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsecsc();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsecot();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parseinvtrig();\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsesin() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c49) {\n      s1 = peg$c49;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c50); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c51(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecos() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c52) {\n      s1 = peg$c52;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c53); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c54(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetan() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c55) {\n      s1 = peg$c55;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c56); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c57(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesec() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c58) {\n      s1 = peg$c58;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c59); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c60(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecsc() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c61) {\n      s1 = peg$c61;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c62); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c63(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecot() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c64) {\n      s1 = peg$c64;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c65); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c66(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseinvtrig() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c67) {\n      s1 = peg$c67;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c68); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c69(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c70) {\n        s1 = peg$c70;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c71); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseExpression();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c72(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 5) === peg$c73) {\n          s1 = peg$c73;\n          peg$currPos += 5;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c74); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseExpression();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsews();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s4 = peg$c16;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c17); }\n              }\n              if (s4 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c75(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsesqrt() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c76) {\n      s1 = peg$c76;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c77); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c78(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseNumber() {\n    var s0, s1;\n\n    s0 = peg$parseScientific();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseInteger();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseFloating();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseConstant();\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parseVariable();\n            if (s1 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c79(s1);\n            }\n            s0 = s1;\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseScientific() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parseFloating();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 101) {\n        s3 = peg$c80;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c81); }\n      }\n      if (s3 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 69) {\n          s3 = peg$c82;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c83); }\n        }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parseInteger();\n        if (s4 !== peg$FAILED) {\n          s3 = [s3, s4];\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c84(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFloating() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseUnsigned();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s4 = peg$c85;\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c86); }\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseUnsigned();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c87(s1, s2, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseInteger() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseUnsigned();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c88(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnsigned() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c89.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c90); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c89.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c91(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseSign() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s0 = peg$c2;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c3); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s0 = peg$c0;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c1); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseConstant() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseE();\n        if (s3 === peg$FAILED) {\n          s3 = peg$parsePi();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c92(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseE() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 101) {\n      s1 = peg$c80;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c81); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 69) {\n        s1 = peg$c82;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c83); }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c93();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsePi() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c94) {\n      s1 = peg$c94;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c95); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.substr(peg$currPos, 2) === peg$c96) {\n        s1 = peg$c96;\n        peg$currPos += 2;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c97); }\n      }\n      if (s1 === peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c98) {\n          s1 = peg$c98;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c99); }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c100();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseVariable() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        if (peg$c101.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c102); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c103(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c105.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c106); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c105.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c106); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c104); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsews() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c105.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c106); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c105.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c106); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c104); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/decimal-arithmetics.js","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { Expression: peg$parseExpression },\n      peg$startRuleFunction  = peg$parseExpression,\n\n      peg$c0 = \"+\",\n      peg$c1 = peg$literalExpectation(\"+\", false),\n      peg$c2 = \"-\",\n      peg$c3 = peg$literalExpectation(\"-\", false),\n      peg$c4 = function(head, tail) {\n            return tail.reduce(function(result, element) {\n              if (element[1] === \"+\") { return result +' + ' + element[3]; }\n              if (element[1] === \"-\") { return result + ' - ' + element[3]; }\n            }, head);\n          },\n      peg$c5 = \"*\",\n      peg$c6 = peg$literalExpectation(\"*\", false),\n      peg$c7 = \"/\",\n      peg$c8 = peg$literalExpectation(\"/\", false),\n      peg$c9 = \"^\",\n      peg$c10 = peg$literalExpectation(\"^\", false),\n      peg$c11 = \"%\",\n      peg$c12 = peg$literalExpectation(\"%\", false),\n      peg$c13 = function(head, tail) {\n            return tail.reduce(function(result, element) {\n              if (element[1] === \"*\") { return result + ' * ' + element[3]; }\n              if (element[1] === \"/\") { return result + ' / ' + element[3]; }\n              if (element[1] === \"^\") { return 'Math.pow(' + result + ', ' + element[3] + ')'; }\n              if (element[1] === \"%\") { return result + '%' + element[3]; }\n            }, head);\n          },\n      peg$c14 = \"(\",\n      peg$c15 = peg$literalExpectation(\"(\", false),\n      peg$c16 = \")\",\n      peg$c17 = peg$literalExpectation(\")\", false),\n      peg$c18 = function(expr) { return '(' + expr + ')'; },\n      peg$c19 = \"abs(\",\n      peg$c20 = peg$literalExpectation(\"abs(\", false),\n      peg$c21 = function(v) { return Math.abs(v); },\n      peg$c22 = \"ceil(\",\n      peg$c23 = peg$literalExpectation(\"ceil(\", false),\n      peg$c24 = \"floor(\",\n      peg$c25 = peg$literalExpectation(\"floor(\", false),\n      peg$c26 = function(v) { return Math.floor(v); },\n      peg$c27 = \"round(\",\n      peg$c28 = peg$literalExpectation(\"round(\", false),\n      peg$c29 = function(v) { return Math.round(v); },\n      peg$c30 = \"random(\",\n      peg$c31 = peg$literalExpectation(\"random(\", false),\n      peg$c32 = function(v) { return 'Math.random()' + (v ? '*' + v : '') ; },\n      peg$c33 = \"log(\",\n      peg$c34 = peg$literalExpectation(\"log(\", false),\n      peg$c35 = function(v) { return \"Math.log10(\" + v + \")\"; },\n      peg$c36 = \"ln(\",\n      peg$c37 = peg$literalExpectation(\"ln(\", false),\n      peg$c38 = function(v) { return \"Math.log(\" + v + \")\"; },\n      peg$c39 = \"exp(\",\n      peg$c40 = peg$literalExpectation(\"exp(\", false),\n      peg$c41 = function(v) { return \"Math.exp(\" + v + \")\"; },\n      peg$c42 = \"pow(\",\n      peg$c43 = peg$literalExpectation(\"pow(\", false),\n      peg$c44 = \", \",\n      peg$c45 = peg$literalExpectation(\", \", false),\n      peg$c46 = function(base, exponent) { return \"Math.pow(\" + base + ',' + exponent +')'; },\n      peg$c47 = \"sin(\",\n      peg$c48 = peg$literalExpectation(\"sin(\", false),\n      peg$c49 = function(v) { return \"Math.sin(\" + v + \")\"; },\n      peg$c50 = \"cos(\",\n      peg$c51 = peg$literalExpectation(\"cos(\", false),\n      peg$c52 = function(v) { return \"Math.cos(\" + v + \")\"; },\n      peg$c53 = \"tan(\",\n      peg$c54 = peg$literalExpectation(\"tan(\", false),\n      peg$c55 = function(v) { return \"Math.tan(\" + v + \")\"; },\n      peg$c56 = \"sec(\",\n      peg$c57 = peg$literalExpectation(\"sec(\", false),\n      peg$c58 = function(v) { return \"1/Math.cos(\" + v + \")\"; },\n      peg$c59 = \"csc(\",\n      peg$c60 = peg$literalExpectation(\"csc(\", false),\n      peg$c61 = function(v) { return \"1/Math.sin(\" + v + \")\"; },\n      peg$c62 = \"cot(\",\n      peg$c63 = peg$literalExpectation(\"cot(\", false),\n      peg$c64 = function(v) { return \"1/Math.tan(\" + v + \")\"; },\n      peg$c65 = \"asin(\",\n      peg$c66 = peg$literalExpectation(\"asin(\", false),\n      peg$c67 = function(v) { return \"Math.asin(\" + v + \")\"; },\n      peg$c68 = \"acos(\",\n      peg$c69 = peg$literalExpectation(\"acos(\", false),\n      peg$c70 = function(v) { return \"Math.acos(\" + v + \")\"; },\n      peg$c71 = \"atan(\",\n      peg$c72 = peg$literalExpectation(\"atan(\", false),\n      peg$c73 = function(v) { return \"Math.atan(\" + v + \")\"; },\n      peg$c74 = \"sqrt(\",\n      peg$c75 = peg$literalExpectation(\"sqrt(\", false),\n      peg$c76 = function(v) { return \"Math.sqrt(\" + v + \")\"; },\n      peg$c77 = function(s) { return s; },\n      peg$c78 = \"e\",\n      peg$c79 = peg$literalExpectation(\"e\", false),\n      peg$c80 = \"E\",\n      peg$c81 = peg$literalExpectation(\"E\", false),\n      peg$c82 = function(f, s) { return f + (s ? s[0] + s[1]: \"\"); },\n      peg$c83 = \".\",\n      peg$c84 = peg$literalExpectation(\".\", false),\n      peg$c85 = function(sign, i, u) { return (sign ? sign : '') + i + (u ? u[0] + u[1] : \"\"); },\n      peg$c86 = function(sign, u) { return (sign ? sign : '') +u; },\n      peg$c87 = /^[0-9]/,\n      peg$c88 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c89 = function(v) { return v.join(\"\"); },\n      peg$c90 = function(sign, v) { return (sign ? sign : '') + v},\n      peg$c91 = function() { return \"Math.E\"; },\n      peg$c92 = \"Pi\",\n      peg$c93 = peg$literalExpectation(\"Pi\", false),\n      peg$c94 = \"pi\",\n      peg$c95 = peg$literalExpectation(\"pi\", false),\n      peg$c96 = \"PI\",\n      peg$c97 = peg$literalExpectation(\"PI\", false),\n      peg$c98 = function() { return \"Math.PI\"; },\n      peg$c99 = /^[xX]/,\n      peg$c100 = peg$classExpectation([\"x\", \"X\"], false, false),\n      peg$c101 = function(sign) { return (sign ? sign : '') + \"x\"; },\n      peg$c102 = peg$otherExpectation(\"whitespace\"),\n      peg$c103 = /^[ \\t\\n\\r]/,\n      peg$c104 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parseExpression() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseTerm();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parse_();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 43) {\n            s6 = peg$c0;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c1); }\n          }\n          if (s6 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 45) {\n              s6 = peg$c2;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c3); }\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parse_();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parseTerm();\n              if (s8 !== peg$FAILED) {\n                s5 = [s5, s6, s7, s8];\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parse_();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 43) {\n              s6 = peg$c0;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c1); }\n            }\n            if (s6 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 45) {\n                s6 = peg$c2;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c3); }\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parse_();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parseTerm();\n                if (s8 !== peg$FAILED) {\n                  s5 = [s5, s6, s7, s8];\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c4(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseTerm() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseFactor();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 42) {\n          s5 = peg$c5;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 47) {\n            s5 = peg$c7;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c8); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 94) {\n              s5 = peg$c9;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c10); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 37) {\n                s5 = peg$c11;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c12); }\n              }\n            }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseFactor();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 42) {\n            s5 = peg$c5;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c6); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 47) {\n              s5 = peg$c7;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 94) {\n                s5 = peg$c9;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c10); }\n              }\n              if (s5 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 37) {\n                  s5 = peg$c11;\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c12); }\n                }\n              }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseFactor();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c13(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFactor() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c14;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s5 = peg$c16;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c18(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseNumber();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsetrig();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsepower();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsesqrt();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsepower() {\n    var s0;\n\n    s0 = peg$parselog();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseln();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseexp();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsepow();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsejs();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsejs() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c19) {\n      s1 = peg$c19;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c20); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c21(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c22) {\n        s1 = peg$c22;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c23); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseExpression();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c21(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 6) === peg$c24) {\n          s1 = peg$c24;\n          peg$currPos += 6;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c25); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseExpression();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsews();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s4 = peg$c16;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c17); }\n              }\n              if (s4 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c26(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 6) === peg$c27) {\n            s1 = peg$c27;\n            peg$currPos += 6;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c28); }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parseExpression();\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parsews();\n              if (s3 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 41) {\n                  s4 = peg$c16;\n                  peg$currPos++;\n                } else {\n                  s4 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                }\n                if (s4 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c29(s2);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 7) === peg$c30) {\n              s1 = peg$c30;\n              peg$currPos += 7;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c31); }\n            }\n            if (s1 !== peg$FAILED) {\n              s2 = peg$parseExpression();\n              if (s2 === peg$FAILED) {\n                s2 = null;\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parsews();\n                if (s3 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 41) {\n                    s4 = peg$c16;\n                    peg$currPos++;\n                  } else {\n                    s4 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                  }\n                  if (s4 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c32(s2);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parselog() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c33) {\n      s1 = peg$c33;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c34); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c35(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseln() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c36) {\n      s1 = peg$c36;\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c37); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c38(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseexp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c39) {\n      s1 = peg$c39;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c40); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c41(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepow() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c42) {\n      s1 = peg$c42;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c43); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsews();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsews();\n          if (s4 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c44) {\n              s5 = peg$c44;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c45); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsews();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseExpression();\n                if (s7 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 41) {\n                    s8 = peg$c16;\n                    peg$currPos++;\n                  } else {\n                    s8 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                  }\n                  if (s8 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c46(s3, s7);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetrig() {\n    var s0;\n\n    s0 = peg$parsesin();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsecos();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsetan();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsesec();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsecsc();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsecot();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parseinvtrig();\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsesin() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c47) {\n      s1 = peg$c47;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c48); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c49(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecos() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c50) {\n      s1 = peg$c50;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c51); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c52(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetan() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c53) {\n      s1 = peg$c53;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c54); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c55(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesec() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c56) {\n      s1 = peg$c56;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c57); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c58(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecsc() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c59) {\n      s1 = peg$c59;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c60); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c61(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecot() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c62) {\n      s1 = peg$c62;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c63); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c64(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseinvtrig() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c65) {\n      s1 = peg$c65;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c66); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c67(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c68) {\n        s1 = peg$c68;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c69); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseExpression();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c70(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 5) === peg$c71) {\n          s1 = peg$c71;\n          peg$currPos += 5;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c72); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseExpression();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsews();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s4 = peg$c16;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c17); }\n              }\n              if (s4 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c73(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsesqrt() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c74) {\n      s1 = peg$c74;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c75); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseExpression();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsews();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c76(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseNumber() {\n    var s0, s1;\n\n    s0 = peg$parseScientific();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseInteger();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseFloating();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseConstant();\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parseVariable();\n            if (s1 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c77(s1);\n            }\n            s0 = s1;\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseScientific() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parseFloating();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 101) {\n        s3 = peg$c78;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c79); }\n      }\n      if (s3 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 69) {\n          s3 = peg$c80;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c81); }\n        }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parseInteger();\n        if (s4 !== peg$FAILED) {\n          s3 = [s3, s4];\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c82(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFloating() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseUnsigned();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s4 = peg$c83;\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c84); }\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseUnsigned();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c85(s1, s2, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseInteger() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseUnsigned();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c86(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnsigned() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c87.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c88); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c87.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c88); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c89(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseSign() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s0 = peg$c2;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c3); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s0 = peg$c0;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c1); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseConstant() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseE();\n        if (s3 === peg$FAILED) {\n          s3 = peg$parsePi();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c90(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseE() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 101) {\n      s1 = peg$c78;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c79); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 69) {\n        s1 = peg$c80;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c81); }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c91();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsePi() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c92) {\n      s1 = peg$c92;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c93); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.substr(peg$currPos, 2) === peg$c94) {\n        s1 = peg$c94;\n        peg$currPos += 2;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c95); }\n      }\n      if (s1 === peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c96) {\n          s1 = peg$c96;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c97); }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c98();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseVariable() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSign();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        if (peg$c99.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c100); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c101(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c103.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c104); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c103.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c104); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c102); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsews() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c103.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c104); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c103.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c104); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c102); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js-arithmetics.js","module.exports = {\n  useDecimal: false\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/config.js","//let generators = [generateRandomSum, generateRandomPeriod, generateSimplePeriod];\nlet generators = [ generateRandomSum, generateSimplePeriod];\n\nfunction generateRandomSum() {\n  return {\n    code: `x/${getDivider()} + x*x*x/${getDivider()}`,\n    totalSteps: 12000,\n    stepsPerIteration: 500,\n    bufferSize: 12000,\n    color: {\n      r: 255, \n      g: 255,\n      b: 255,\n      a: 0.42\n    }\n  }\n}\n\nfunction generateRandomPeriod() {\n  return {\n    code: `x/${getDivider(10)} + sin(pi*x*${getDivider(10, 1000)})`,\n    totalSteps: 20000,\n    stepsPerIteration: 500,\n    bufferSize: 20000,\n    color: {\n      r: 255, \n      g: 255,\n      b: 255,\n      a: 0.06\n    }\n  } \n}\n\nfunction generateSimplePeriod() {\n  return {\n    code: `x/${getDivider(85)} + cos(x*${getDivider(100, 1000)})`,\n    totalSteps: 30000000,\n    stepsPerIteration: 500,\n    bufferSize: 30000,\n    color: {\n      r: 255, \n      g: 255,\n      b: 255,\n      a: 0.06\n    }\n  }\n}\n\nfunction getDivider(cap = 100, exponent = 0) {\n  let value = Math.random() * cap + 2;\n  let divider = exponent === 0 ? Math.round(value) : Math.round(value * exponent) / exponent;\n  // x/32 + x*x*x/62 - eye\n  // x/(6) + x * x * x /51;\n  // x/21 + x*x*x/27;  -- impossible loop\n  // x + x * x * x /35;\n  // x/39 + x*x*x/39; // another dog\n  // x/8 + x*x*x/24004 -- clown\n  // k/6 + k * k /7 + k * k * k/6 // running man\n  // cross k/4 + k * k * k/18\n  // apple logo k/6 + k * k /7 + k * k * k/14\n  // candy k/24 + k * k * k/12;\n  // k*k*k/101; // ram\n  // mooseneckle   return k/90 + k * k * k/92;\n  // scary monster k/3 + k * k * k/61;\n  //   return k/3+Math.sin(k*2/Math.PI)+k * k/61;\n// https://anvaka.github.io/share/esum/?code=x%2F3%20%2Bsin%28230*x%2Fe*pi%29%20%20&bufferSize=12000&totalSteps=12000&spi=500\n    // return k/4+Math.sin(k*5/Math.PI);\n    // x/3 + sin(x*45/PI) + sin(x*5/PI); // ring\n// function f(k) {\n//   return k/3+Math.sin(k*5/Math.PI);  \n// }\n  return divider;\n}\n\nmodule.exports = function generate() {\n  let randomGenerator = generators[Math.floor(Math.random() * generators.length)]\n  return randomGenerator();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/generate-function.js"],"sourceRoot":""}